import{C as e,R as t,a as l}from"./vendor.26dbee2b.js";function r(){const[l,r]=e.exports.useState(""),[o,n]=e.exports.useState(""),[a,s]=e.exports.useState(),[c,u]=e.exports.useState();var d;e.exports.useEffect((()=>{try{d=window.openDatabase("DemoWebSql","1.0","Test DataBase",2097152,(()=>{console.log("dataBase Created")}))}catch(e){console.log(e)}}));return t.createElement("div",{className:"App"},t.createElement("h2",null,"WebSql Executor"),t.createElement("textarea",{rows:12,cols:50,placeholder:"Write Your Query Here",onChange:e=>{r(e.target.value)}}),t.createElement("br",null),t.createElement("button",{onClick:async()=>{u(void 0),s(void 0),console.log("running the query : ",l),d.transaction((e=>{e.executeSql(l,void 0,((e,t)=>{if(console.log("query executed with the result: ",t),t.rows.length){n("Row(s) got Fetched Successfully, Length is "+t.rows.length);var l=[],r=Object.keys(t.rows[0]);u(r);for(var o=0;o<t.rows.length;o++){var a=[];for(var d of r)a.push(t.rows[o][d]);l.push(a)}console.log(c,l),s(l)}else if(t.rowsAffected){n("Changed Got Applied Number of Affected Rows is "+t.rowsAffected);try{t.insertId&&n("Row(s) Inserted Successfully to Row Number "+t.insertId+", Number of Rows Inserted "+t.rowsAffected)}catch(m){}}else n("Query Executed Successfully")}),((e,t)=>{console.log("query failed with error",t,"bad query",l),n(t.message+", Error Code : "+t.code)}))}))}},"Run Query"),t.createElement("hr",null),t.createElement("div",{className:"output"},t.createElement("div",{className:"top"},t.createElement("span",null,"Output: ",t.createElement("span",null,o))),t.createElement("hr",null),t.createElement("div",{className:"bottom"},t.createElement("table",null,t.createElement("thead",null,t.createElement("tr",null,null==c?void 0:c.map((e=>t.createElement("th",null,e))))),t.createElement("tbody",null,null==a?void 0:a.map((e=>t.createElement("tr",null,e.map((e=>t.createElement("td",null,e)))))))))))}l.render(t.createElement(t.StrictMode,null,t.createElement(r,null)),document.getElementById("root"));
