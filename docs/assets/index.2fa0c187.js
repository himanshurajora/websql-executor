import{C as e,R as t,a as l}from"./vendor.26dbee2b.js";function r(){const[l,r]=e.exports.useState(""),[n,a]=e.exports.useState(""),[o,s]=e.exports.useState(),[c,u]=e.exports.useState();var m;e.exports.useEffect((()=>{try{m=window.openDatabase("DemoWebSql","1.0","Test DataBase",2097152,(()=>{console.log("dataBase Created")}))}catch(e){console.log(e)}}));return t.createElement("div",{className:"App"},t.createElement("h2",null,"WebSql Executor"),t.createElement("textarea",{rows:12,cols:50,placeholder:"Write Your Query Here",onChange:e=>{r(e.target.value)}}),t.createElement("br",null),t.createElement("button",{onClick:async()=>{console.log("running the query : ",l),m.transaction((e=>{e.executeSql(l,void 0,((e,t)=>{console.log("query executed with the result: ",t);try{t.insertId&&a("Row(s) Inserted Successfully to Row Number "+t.insertId)}catch(d){}if(t.rows.length){a("Row(s) got Fetched Successfully, Length is "+t.rows.length);var l=[],r=Object.keys(t.rows[0]);u(r);for(var n=0;n<t.rows.length;n++){var o=[];for(var m of r)o.push(t.rows[n][m]);l.push(o)}console.log(c,l),s(l)}else t.rowsAffected?a("Changed Got Applied Number of Affected Rows is "+t.rowsAffected):a("Query Executed Successfully")}),((e,t)=>{console.log("query failed with error",t,"bad query",l),a(t.message+", Error Code : "+t.code)}))}))}},"Run Query"),t.createElement("hr",null),t.createElement("div",{className:"output"},t.createElement("div",{className:"top"},t.createElement("span",null,"Output: ",t.createElement("span",null,n))),t.createElement("hr",null),t.createElement("div",{className:"bottom"},t.createElement("table",null,t.createElement("thead",null,t.createElement("tr",null,null==c?void 0:c.map((e=>t.createElement("th",null,e))))),t.createElement("tbody",null,null==o?void 0:o.map((e=>t.createElement("tr",null,e.map((e=>t.createElement("td",null,e)))))))))))}l.render(t.createElement(t.StrictMode,null,t.createElement(r,null)),document.getElementById("root"));
